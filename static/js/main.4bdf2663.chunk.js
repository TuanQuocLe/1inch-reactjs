(this["webpackJsonpmy-dex"]=this["webpackJsonpmy-dex"]||[]).push([[0],{1048:function(n,e){},1117:function(n,e,t){},1118:function(n,e,t){"use strict";t.r(e);var o,r,a,c,s,i,u,d,l,b,p=t(1),f=t.n(p),j=t(458),x=t.n(j),h=t(54),O=t(55),m=O.a.div(o||(o=Object(h.a)(["\n    background-color: #333 ;\n    margin-bottom: 40px;\n    a {\n        text-decoration: none;\n        color: white;\n    }\n    \n"]))),g=O.a.div(r||(r=Object(h.a)(["\n    max-width: 1280px;\n    padding: 12px;\n    margin: auto;\n    align-items: center;\n    color: white;\n    font-size: 25px;\n    display: flex;\n    justify-content: space-between;\n    background-color: #333;\n    a {\n        margin-right: 30px;\n        background-color: transparent;\n    }\n    button {\n        border: 1px solid #4f93d8;\n        color: #4f93d8;\n        background-color: transparent;\n        font-size: 18px;\n        padding: 5px 8px;\n        border-radius: 5px;\n        max-width: 250px;\n    }\n"]))),k=t(2),v=function(n){var e=n.logIn,t=n.address;return Object(k.jsx)(m,{children:Object(k.jsxs)(g,{children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("a",{href:"/",children:"LumSwap"}),Object(k.jsx)("a",{href:"/",children:"Home"})]}),Object(k.jsx)("button",{onClick:e,children:t?t.slice(0,20)+"...":"Sign in with Metamask"})]})})},w=t(462),T=t(46),M=t.n(T),y=t(149),S=t(56),A=t(463),I=t(45),C=O.a.div(a||(a=Object(h.a)(["\n    /* background-color: #3c3c3c ; */\n    color: white;\n    /* padding: 25px; */\n\n"]))),P=O.a.div(c||(c=Object(h.a)(["\n    background-color: #191919;\n    border: 2px solid #323232;\n    border-radius: 20px;\n    width: 500px;\n    margin: auto;\n    padding: 20px;\n\n    label {\n        font-size: 25px;\n    }\n\n    button {\n        width: 100%;\n        font-size: large;\n        padding: 10px;\n        border: solid 1px #323232;\n        border-radius: 5px;\n        background-color: #4f93d8 ;\n        color: white;\n        \n    }\n    button:disabled {\n        background-color: white;\n        color: #4f93d8 ;\n    }\n"]))),U=O.a.div(s||(s=Object(h.a)(["\n    background-color: #292a2e ;\n    border: 1px solid #545354;\n    border-radius: 20px;\n    padding: 25px;\n    margin: 20px 0;\n"]))),z=O.a.div(i||(i=Object(h.a)(["\n    display: flex;\n    justify-content: space-between;\n    div {\n        margin: auto 0;\n    }\n\n    input {\n        background-color:#242627 ;\n        border: 1px solid #3a3d40 ;\n        border-radius: 5px;\n        padding: 12px 20px;\n        color: #a8a8a5;\n        outline: none;\n        font-size: 15px;\n    }\n"]))),F=O.a.div(u||(u=Object(h.a)(["\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-color: rgba(0, 0, 0, .5);\n    display: flex;\n"]))),G=O.a.div(d||(d=Object(h.a)(["\n    width: 400px;\n    height: 700px;\n    border-radius: 5px;\n    border: silver solid 2px;\n    background-color: white;\n    margin: auto;\n    overflow: scroll;\n    color: black;\n    li {\n        display: flex;\n        padding: 5px 20px;\n        list-style: none;\n        :hover {\n            background-color: rgba(0, 0, 0, .2) ;\n            cursor: pointer;\n            color: white;\n        }\n    }\n    span {\n        margin: auto 10px;\n        font-size: 18px;\n    }\n    img {\n        width: 40px;\n        height: 40px;\n    }\n"]))),D=t(268),E=function(n){var e=n.tokens,t=n.setToken,o=n.setOpenModal;return console.log("this is from Modal"),Object(k.jsx)(F,{children:Object(k.jsx)(G,{children:e.map((function(n,e){return Object(k.jsxs)("li",{onClick:function(){return function(n){t(n),o(!1)}(n)},children:[n.logoURI?Object(k.jsx)("img",{src:n.logoURI}):"NOIMAGE",Object(k.jsx)("span",{children:n.symbol})]},e)}))})})},Q=function(n){var e=n.tokens,t=n.fromData,o=(n.onGetQuote,Object(p.useState)(!1)),r=Object(S.a)(o,2),a=r[0],c=r[1],s=Object(p.useState)(),i=Object(S.a)(s,2),u=i[0],d=i[1],l=Object(p.useState)(0),b=Object(S.a)(l,2),f=b[0],j=b[1],x={fromToken:u,fromAmount:f};Object(p.useMemo)((function(){t(x)}),[u,f]);return Object(k.jsxs)(U,{children:[a&&Object(k.jsx)(E,{tokens:e,setToken:d,setOpenModal:c}),Object(k.jsxs)(z,{children:[Object(k.jsx)("div",{onClick:function(){return c(!0)},children:u?u.symbol:"Select From Token"}),Object(k.jsx)("input",{value:f,onChange:function(n){return function(n){j(n.target.value)}(n)}})]})]})},q=O.a.div(l||(l=Object(h.a)(["\n    background-color: #292a2e ;\n    border: 1px solid #545354;\n    border-radius: 20px;\n    padding: 25px;\n    margin: 20px 0;\n"]))),H=O.a.div(b||(b=Object(h.a)(["\n    display: flex;\n    justify-content: space-between;\n    div {\n        margin: auto 0;\n    }\n\n    input {\n        background-color:#242627 ;\n        border: 1px solid #3a3d40 ;\n        border-radius: 5px;\n        padding: 12px 20px;\n        color: #a8a8a5;\n        outline: none;\n        font-size: 15px;\n    }\n"]))),L=function(n){var e=n.tokens,t=n.toData,o=n.quote,r=(n.onGetQuote,Object(p.useState)(!1)),a=Object(S.a)(r,2),c=a[0],s=a[1],i=Object(p.useState)(),u=Object(S.a)(i,2),d=u[0],l=u[1],b=Object(p.useState)(0),f=Object(S.a)(b,2),j=f[0],x=f[1],h={toToken:d,toAmount:j};Object(p.useMemo)((function(){t(h)}),[j,d]);return Object(k.jsxs)(q,{children:[c&&Object(k.jsx)(E,{tokens:e,setToken:l,setOpenModal:s}),Object(k.jsxs)(H,{children:[Object(k.jsx)("div",{onClick:function(){return s(!0)},children:d?d.symbol:"Select To Token"}),Object(k.jsx)("input",{value:o?o.toTokenAmount/Math.pow(10,d.decimals):"0",onChange:function(n){return x(n.target.value)}})]})]})},N=function(n){Object(A.a)(n);var e=Object(p.useState)(!0),t=Object(S.a)(e,2),o=t[0],r=t[1],a=Object(p.useState)([]),c=Object(S.a)(a,2),s=c[0],i=c[1],u=Object(p.useState)({}),d=Object(S.a)(u,2),l=d[0],b=d[1],f=Object(p.useState)({}),j=Object(S.a)(f,2),x=j[0],h=j[1],O=Object(p.useState)(),m=Object(S.a)(O,2),g=m[0],T=m[1],U=Object(p.useState)(""),z=Object(S.a)(U,2),F=z[0],G=z[1];Object(p.useEffect)((function(){function n(){return n=Object(y.a)(M.a.mark((function n(){var e;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I.Moralis.enableWeb3();case 2:return n.next=4,I.Moralis.initPlugins();case 4:return G(I.Moralis.User.current().get("ethAddress")),n.next=7,I.Moralis.Plugins.oneInch.getSupportedTokens({chain:"eth"});case 7:e=n.sent,i(e.tokens),I.Moralis.User.current()&&r(!1);case 10:case"end":return n.stop()}}),n)}))),n.apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]);var D=[];for(var E in s)D.push(s[E]);var q=function(){var n=Object(y.a)(M.a.mark((function n(){return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,I.Moralis.User.current()){n.next=6;break}return n.next=5,I.Moralis.Web3.authenticate();case 5:Object(w.a)("currentUser");case 6:r(!1),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(console.error());case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}(),H=function(){var n=Object(y.a)(M.a.mark((function n(){var e,t;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("from: ",l,"to: ",x),!(l.fromToken&&x.toToken&&l.fromAmount)){n.next=8;break}return console.log("inQutoe"),e=Number(l.fromAmount*Math.pow(10,l.fromToken.decimals)),n.next=6,I.Moralis.Plugins.oneInch.quote({chain:"eth",fromTokenAddress:l.fromToken.address,toTokenAddress:x.toToken.address,amount:e});case 6:t=n.sent,T(t);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();Object(p.useMemo)((function(){H()}),[l,x]);var N=function(){var n=Object(y.a)(M.a.mark((function n(e,t){return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("in doSwap"),n.next=3,I.Moralis.Plugins.oneInch.swap({chain:"eth",fromTokenAddress:l.fromToken.address,toTokenAddress:x.toToken.address,amount:e,fromAddress:t,slippage:1});case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),W=function(){var n=Object(y.a)(M.a.mark((function n(){var e,t;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=I.Moralis.User.current().get("ethAddress"),t=Number(l.amount*Math.pow(10,l.fromToken.decimals)),"ETH"===l.fromToken.symbol){n.next=9;break}return n.next=5,I.Moralis.Plugins.oneInch.hasAllowance({chain:"eth",fromTokenAddress:l.fromToken.address,fromAddress:e,amount:t});case 5:if(n.sent){n.next=9;break}return n.next=9,I.Moralis.Plugins.oneInch.approve({chain:"eth",tokenAddress:l.fromToken.address,fromAddress:e});case 9:return n.next=11,N(t,e);case 11:n.sent,alert("swap completed");case 13:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(k.jsxs)(C,{children:[Object(k.jsx)(v,{logIn:q,address:F}),Object(k.jsxs)(P,{children:[Object(k.jsx)("label",{children:"Swap"}),Object(k.jsx)(Q,{onGetQuote:H,tokens:D,fromData:b}),Object(k.jsx)(L,{tokens:D,toData:h,quote:g}),Object(k.jsxs)("p",{children:["Estimated Gas: ",Object(k.jsx)("span",{children:g&&g.estimatedGas})]}),Object(k.jsx)("button",{disabled:o,onClick:W,children:"Swap"}),g&&g.error]})]})};t(1117);var W=function(){return Object(k.jsx)("div",{className:"App",children:Object(k.jsx)(N,{})})},B=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,1122)).then((function(e){var t=e.getCLS,o=e.getFID,r=e.getFCP,a=e.getLCP,c=e.getTTFB;t(n),o(n),r(n),a(n),c(n)}))};x.a.render(Object(k.jsx)(f.a.StrictMode,{children:Object(k.jsx)(D.a,{appId:"hC2ylC4oPrcOrVQH6tWZX5eUqg7rmmzOFwrLjiIH",serverUrl:"https://wjkaggnobyu7.usemoralis.com:2053/server",children:Object(k.jsx)(W,{})})}),document.getElementById("root")),B()},743:function(n,e){},745:function(n,e){},749:function(n,e){},750:function(n,e){},777:function(n,e){},779:function(n,e){},790:function(n,e){},792:function(n,e){},802:function(n,e){},804:function(n,e){},820:function(n,e){},854:function(n,e){},855:function(n,e){},925:function(n,e){},927:function(n,e){},932:function(n,e){},934:function(n,e){},941:function(n,e){},953:function(n,e){},956:function(n,e){},961:function(n,e){}},[[1118,1,2]]]);
//# sourceMappingURL=main.4bdf2663.chunk.js.map